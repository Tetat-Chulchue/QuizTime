<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html {
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            padding: 0;
        }

        .case {
            position: fixed;
            width: 100%;
            height: 100vh;
            perspective: 1000px;
            background-color: rgb(0, 255, 255);
            perspective: 100px;
        }

        .top-text {
            margin: 0;
            top: 19px;
            left: 50%;
            transform: translate(-50%, -50%);
            position: fixed;
        }

        .left-text {
            margin: 0;
            top: 50%;
            left: 18px;
            transform: translate(-50%, -50%) rotateZ(90deg);
            position: fixed;
        }

        .right-text {
            margin: 0;
            top: 50%;
            right: -30px;
            transform: translate(-50%, -50%) rotateZ(-90deg);
            position: fixed;
        }

        .bottom-text {
            margin: 0;
            bottom: -2px;
            left: 50%;
            transform: translate(-50%, -50%);
            position: fixed;
        }

        .sector {
            width: 100%;
            height: 3000px;
        }

        .page {
            position: fixed;
            transform: 
                translateX(-50%)
                translateY(-50%)
                translateZ(0px)
            ;
            /* background-color: rgba(210, 105, 30, 0.384); */
            perspective: 100px;
            /* transition: transform 1s; */
        }

        .linkAble {
            position: fixed;
            width: 400px;
            height: 250px;
            background-color: chocolate;
            transition: width 1s, height 1s;
        }
        
        .linkAble:hover {
            width: 500px;
            height: 500px;
        }

        h1 {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) translateZ(-50px);
            font-size: 300px;
            margin: 0;
        }

        .background {
            position: fixed;
            background-color: rgb(140, 140, 235);
            width: 100%;
            height: 100%;
            z-index: -1000;
            opacity: 1;
        }
    </style>
</head>

<body onscroll="page()" onmousemove="mouse(event)" onLoad="pageScroll()">
    <div class="case">
        <div class="background" id="background1"></div>
        <div class="background" id="background2"></div>
        <div class="background" id="background3"></div>
            <div class="linkAble" id="page-4-4" style="top: 75%; left: 25%" onclick="popUp('page-4-4')">page-4-4</div>
            <div class="linkAble" id="page-4-3" style="top: 75%; left: 75%" onclick="popUp('page-4-3')">page-4-3</div>
            <div class="linkAble" id="page-4-2" style="top: 25%; left: 75%" onclick="popUp('page-4-2')">page-4-2</div>
            <div class="linkAble" id="page-4-1" style="top: 25%; left: 25%" onclick="popUp('page-4-1')">page-4-1</div>
        <div class="page" id="page-4" style="top: 50%; left: 50%"><h1>TESTSTSETT</h1></div>
            <div class="linkAble" id="page-3-4" style="top: 75%; left: 25%" onclick="popUp('page-3-4')">page-3-4</div>
            <div class="linkAble" id="page-3-3" style="top: 75%; left: 75%" onclick="popUp('page-3-3')">page-3-3</div>
            <div class="linkAble" id="page-3-2" style="top: 25%; left: 75%" onclick="popUp('page-3-2')">page-3-2</div>
            <div class="linkAble" id="page-3-1" style="top: 25%; left: 25%" onclick="popUp('page-3-1')">page-3-1</div>
        <div class="page" id="page-3" style="top: 50%; left: 50%"><h1>TESTSTSETT</h1></div>
            <div class="linkAble" id="page-2-4" style="top: 75%; left: 25%" onclick="popUp('page-2-4')">page-2-4</div>
            <div class="linkAble" id="page-2-3" style="top: 75%; left: 75%" onclick="popUp('page-2-3')">page-2-3</div>
            <div class="linkAble" id="page-2-2" style="top: 25%; left: 75%" onclick="popUp('page-2-2')">page-2-2</div>
            <div class="linkAble" id="page-2-1" style="top: 25%; left: 25%" onclick="popUp('page-2-1')">page-2-1</div>
        <div class="page" id="page-2" style="top: 50%; left: 50%"><h1>TESTSTSETT</h1></div>
            <div class="linkAble" id="page-1-4" style="top: 75%; left: 25%">page-1-4</div>
            <div class="linkAble" id="page-1-3" style="top: 75%; left: 75%">page-1-3</div>
            <div class="linkAble" id="page-1-2" style="top: 25%; left: 75%">page-1-2</div>
            <div class="linkAble" id="page-1-1" style="top: 25%; left: 25%">page-1-1</div>
        <div class="page" id="page-1" style="top: 50%; left: 50%"><h1>QuizTime</h1></div>
    </div>

    <p href="" class="top-text">TOP</p>
    <p href="" class="left-text">LEFT</p>
    <p href="" class="right-text">RIGHT</p>
    <p href="" class="bottom-text">BOTTOM</p>

    <section id="1" class="sector"></section>
    <script>
        let pageOn = 0;
        window.onload = () => {
            page()
        }

        function page() {
            let y = document.body.scrollTop;
            let b = document.body.scrollHeight - document.body.clientHeight;
            let position = -50;
            let space = 100;

            box( y-(space*0)+position-30 , "page-1");
            box( y-(space)+position , "page-1-1");
            box( y-(space)+position , "page-1-2");
            box( y-(space)+position , "page-1-3");
            box( y-(space)+position , "page-1-4");

            box( y-(space*5)+position , "page-2");
            box( y-(space*6)+position , "page-2-1");
            box( y-(space*7)+position , "page-2-2");
            box( y-(space*8)+position , "page-2-3");
            box( y-(space*9)+position , "page-2-4");

            box( y-(space*10)+position , "page-3");
            box( y-(space*11)+position , "page-3-1");
            box( y-(space*12)+position , "page-3-2");
            box( y-(space*13)+position , "page-3-3");
            box( y-(space*14)+position , "page-3-4");

            box( y-(space*15)+position , "page-4");
            box( y-(space*16)+position , "page-4-1");
            box( y-(space*17)+position , "page-4-2");
            box( y-(space*18)+position , "page-4-3");
            box( y-(space*19)+position , "page-4-4");

            background( y-(space*3)+position, "background1", "rgb(140, 140, 235)");
            background( y-(space*8)+position, "background2", "rgb(165, 42, 42)");
            background( y-(space*13)+position, "background3", "rgb(95, 158, 160)");
        }

        function box(value, pageId, top, left) {
            if (pageOn == 1) {
                return
            }
            document.getElementById(pageId).style.transform = "translateX(-50%) translateY(-50%) translateZ("+(value)+"px)";
            opacity(pageId);
        }

        function opacity(pageId) {
            let value = document.getElementById(pageId).style.transform.slice(45).replace("px)", "");
            if (value > -400) {
                document.getElementById(pageId).style.opacity = ((Number(value)+400))/100;
                document.getElementById(pageId).style.display = "initial";
            } else if (value < -400) {
                document.getElementById(pageId).style.display = "none";
            }
        }

        function mouse(e) {
            let mouseX = -(e.clientX-(window.innerWidth/2));
            let mouseY = -(e.clientY-(window.innerHeight/2));
            let movement_translate = -300;
            let movement_rotate = 1200;

            boxMove(50+(mouseX/movement_translate), 50+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-1");
            boxMove(25+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-1-1");
            boxMove(25+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-1-2");
            boxMove(75+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-1-3");
            boxMove(75+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-1-4");

            boxMove(50+(mouseX/movement_translate), 50+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-2");
            boxMove(25+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-2-1");
            boxMove(25+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-2-2");
            boxMove(75+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-2-3");
            boxMove(75+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-2-4");

            boxMove(50+(mouseX/movement_translate), 50+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-3");
            boxMove(25+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-3-1");
            boxMove(25+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-3-2");
            boxMove(75+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-3-3");
            boxMove(75+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-3-4");


            boxMove(50+(mouseX/movement_translate), 50+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-4");
            boxMove(25+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-4-1");
            boxMove(25+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-4-2");
            boxMove(75+(mouseX/movement_translate), 75+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-4-3");
            boxMove(75+(mouseX/movement_translate), 25+(mouseY/movement_translate), (mouseX/movement_rotate), -(mouseY/movement_rotate), "page-4-4");


        }
        function boxMove(leftX, topY, retateX, retateY, boxId) {
            if (pageOn == 1) {
                // document.getElementById(boxId).style.left = 50+leftX-25+"%";
                // document.getElementById(boxId).style.top = 50+topY-25+"%";
                return
            }
            document.getElementById(boxId).style.left = leftX+"%";
            document.getElementById(boxId).style.top = topY+"%";
        }

        function background(value, backName, color) {
            if (value > -100 || value < 100) {
                document.getElementById(backName).style.backgroundColor = color;
                document.getElementById(backName).style.opacity = (value+100)/100;
            }
        }

        let scrollZ, top_popUp, left_popUp, positionZ;
        function popUp(id) {
            if (pageOn == 1) {
                pageOn = 0;
                document.body.scrollTop = scrollZ;
                document.getElementById(id).style.top = top_popUp;
                document.getElementById(id).style.left = left_popUp;
                document.getElementById(id).style.transform = "translateX(-50%) translateY(-50%) translateZ("+positionZ+"px)";
            } else if (pageOn == 0) {
                pageOn = 1;
                scrollZ = document.body.scrollTop;
                top_popUp = document.getElementById(id).style.top;
                left_popUp = document.getElementById(id).style.left;
                positionZ = document.getElementById(id).style.transform.slice(45).replace("px)", "");
                document.getElementById(id).style.left = 50+"%";
                document.getElementById(id).style.top = 50+"%";
                document.getElementById(id).style.transform = "translateZ(0px) translateX(-50%) translateY(-50%)";
            }
            for (let i = 1; i < 5; i++) {
                for (let j = 1; j < 5; j++) {
                    if ("page-"+i+"-"+j != id) {
                        if (pageOn == 1) {
                            document.getElementById("page-"+i+"-"+j).style.display = "none";
                            document.getElementById("page-"+i).style.display = "none";
                        } else if (pageOn == 0) {
                            opacity("page-"+i+"-"+j);
                            opacity("page-"+i);
                        }
                    }
                }
            }
        }
    </script>
</body>
</html>